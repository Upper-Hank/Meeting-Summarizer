# Meeting Summarizer 应用流程说明

## 应用整体流程

Meeting Summarizer 是一个会议总结应用，用户通过以下步骤完成会议内容的处理：

1. **欢迎页面** → 点击"开始"按钮
2. **上传页面** → 选择输入方式（文件上传/Zoom链接/实时录制）
3. **转录页面** → 自动将音频转换为文字
4. **总结页面** → 生成会议总结并可下载

## 技术架构

### 🎯 核心控制器 - app.js

**作用**：整个应用的"大脑"，负责协调所有页面模块

**核心功能**：
- `initApp()`：启动应用，初始化所有页面模块
- `showPage(pageNumber)`：控制页面切换，隐藏当前页面并显示目标页面
- `registerPageModule(pageNumber, module)`：注册页面模块到应用中
- `pageModules`：存储所有页面模块的注册表

**工作流程**：
```
应用启动 → 注册所有页面模块 → 显示第一页 → 响应页面切换请求
```

### 🛠️ 工具库 - utils.js

**作用**：提供通用的工具函数，避免代码重复

**三大模块**：
- **Validators**：数据验证（文件格式、大小、Zoom链接等）
- **UIHelpers**：DOM操作（显示/隐藏元素、CSS类管理等）
- **AnimationHelpers**：动画效果（基于GSAP的通用动画）

### 📄 页面模块架构

每个页面都采用统一的模块化结构：

```
页面模块 = 状态管理 + 动画效果 + 控制器逻辑
```

#### 1. 欢迎页面 (welcome-page.js)
**流程**：显示欢迎界面 → 用户点击"开始" → 跳转到上传页面

**关键逻辑**：
- `handleStartClick()`：处理开始按钮点击，调用 `window.MeetingSummarizer.showPage(2)`

#### 2. 上传页面 (upload-page.js)
**流程**：用户选择输入方式 → 验证输入 → 跳转到转录页面

**三种输入方式**：
- 文件上传：验证文件格式和大小
- Zoom链接：验证链接格式
- 实时录制：控制录制状态

**关键逻辑**：
- 卡片选择机制：同时只能选择一种输入方式
- 输入验证：确保数据有效后才能进入下一步

#### 3. 转录页面 (transcription-page.js)
**流程**：自动开始转录 → 显示进度 → 模拟打字机效果 → 完成后跳转

**核心组件**：
- `TranscriptionSimulator`：模拟API调用和转录过程
- 打字机动画：逐字显示转录文本
- 进度条：显示转录进度

#### 4. 总结页面 (summary-page.js)
**流程**：自动开始总结 → 显示进度 → 渐进式显示总结 → 提供下载功能

**核心组件**：
- `SummarySimulator`：模拟总结生成过程
- 渐进式文本显示：分段显示总结内容
- 完成按钮：重置整个应用回到第一页

## 页面间通信机制

所有页面切换都通过 `window.MeetingSummarizer.showPage()` 实现：

```javascript
// 页面切换示例
window.MeetingSummarizer.showPage(2); // 跳转到第2页
```

## 模块注册机制

每个页面模块在加载时自动注册到主应用：

```javascript
// 页面模块注册
window.MeetingSummarizer.registerPageModule(1, WelcomePage);
```

## 状态管理

每个页面都有独立的状态管理：
- `isInitialized`：是否已初始化
- `isVisible`：是否可见
- 页面特定状态（如上传页面的选择状态、转录页面的进度等）

## 动画系统

基于GSAP库实现丰富的动画效果：
- 页面进入/退出动画
- 按钮交互动画
- 进度条动画
- 文本显示动画

# 迭代日志

v1.0 最初的前端搭建

v1.1 对文件格式进行迭代

v1.2 重新规划了js逻辑控制，为后续的api接入做准备；但未完全优化完毕，后续准备优化动画效果，完善接口预留与删除冗余代码

